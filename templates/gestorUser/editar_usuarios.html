{% extends "base/base.html" %}

{% load static %}

{% block titulo %}
Editar Perfil
{% endblock %}


{% block contenido %}

<h1 class="h3 my-5 text-gray-800 text-center">Editar Perfil</h1>

<div class="container">
    <form class="user" method="post">
        {% csrf_token %}

        <!-- Mensajes de exito o error -->
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show mt-3" role="alert">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endfor %}
        {% endif %}

        <!-- Nombre de usuario -->
        <div class="form-group mt-5">
            <label for="id_username" class="form-label my-2">Nombre de usuario:</label>
            <input type="text" class="form-control form-control-user" id="id_username"
                name="{{ form.username.html_name }}" autocomplete="username"
                value="{{ form.username.value|default_if_none:'' }}" placeholder="Nombre de Usuario">
            <!-- Mostrar error de validación para este campo -->
            {% if form.username.errors %}
            <div class="alert alert-danger mt-2" role="alert">
                {{ form.username.errors.0 }}
            </div>
            {% endif %}
        </div>

        <!-- Correo electronico -->
        <div class="form-group">
            <label for="id_email" class="form-label my-2">Correo electrónico:</label>
            <input type="email" class="form-control form-control-user" id="id_email" name="{{ form.email.html_name }}"
                value="{{ form.email.value|default_if_none:'' }}" placeholder="Correo Electrónico">
            <!-- Mostrar error de validacion -->
            {% if form.email.errors %}
            <div class="alert alert-danger mt-2" role="alert">
                {{ form.email.errors.0 }}
            </div>
            {% endif %}
        </div>

        <!-- Nueva contraseña -->
        <div class="form-group">
            <label for="id_nueva_contraseña" class="form-label my-2">Nueva contraseña:</label>
            <input type="password" class="form-control form-control-user" id="id_nueva_contraseña"
                name="{{ form.nueva_contraseña.html_name }}" placeholder="Nueva Contraseña">
            <!-- Mostrar error de validacion -->
            {% if form.nueva_contraseña.errors %}
            <div class="alert alert-danger mt-2" role="alert">
                {{ form.nueva_contraseña.errors.0 }}
            </div>
            {% endif %}
        </div>

        <!-- Confirmar contraseña -->
        <div class="form-group">
            <label for="id_confirmar_contraseña" class="form-label my-2">Confirmar contraseña:</label>
            <input type="password" class="form-control form-control-user" id="id_confirmar_contraseña"
                name="{{ form.confirmar_contraseña.html_name }}" placeholder="Confirmar Contraseña">
            <!-- Mostrar error de validacion -->
            {% if form.confirmar_contraseña.errors %}
            <div class="alert alert-danger mt-2" role="alert">
                {{ form.confirmar_contraseña.errors.0 }}
            </div>
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary btn-user btn-block mt-5">
            Guardar cambios
        </button>
        <a href="{% url 'home' %}" class="btn btn-danger btn-user btn-block my-2">
            Volver a la Página Principal
        </a>
    </form>
</div>

{% endblock %}